<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <title>
    
    Sanojen etsiminen Javalla - Tietorakenteet ja algoritmit syksy 2022
    
  </title>
  <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        CommonHTML: {
          scale: 87
        }
      });
      </script>
  <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  <link rel='stylesheet' type='text/css' media='screen' href=/syksy-2022/assets/css/main.css>
  <link rel='stylesheet' type='text/css' media='screen' href=/syksy-2022/assets/css/syntax.css>

  <script src=/syksy-2022/assets/js/main.js></script>

</head>


<body id="chapter">
    
<nav class="no-nav" id="side-nav" >
    <button id="hide" onclick="hideSideNav()"> &#x2715;</button>
    <button id="show" onclick="showSideNav()"> </button>
    <h2>Tietorakenteet ja algoritmit syksy 2022</h2>
    
    <ol>

        <li class="side-nav-obj" id="indexnav"><a href=/syksy-2022/index>Etusivu </a></li>
        
        
        
        
        
        
        
        
        
        
        
        <li class="side-nav-obj" id="Materiaalinav"><a href="/syksy-2022/pages/materiaali.html">Materiaali</a></li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li class="side-nav-obj" id="Tehtävätnav"><a href="/syksy-2022/pages/tehtavat.html">Tehtävät</a></li>
        
        
        
        <li class="side-nav-obj" id="Tulokset ja palautenav"><a href="/syksy-2022/pages/tulokset-palaute.html">Tulokset ja palaute</a></li>
        
        
        
        
        
        
        <br>
        
    </ol>
</nav>
    <div class="page-content">
        <div class="content">
    <div class="table-of-content" id="tof" style="display: none;">
    <ul>
        
    </ul>
</div>

    <h1 id="sanojen-etsiminen-javalla">Sanojen etsiminen Javalla</h1>

<p>Kurssin I-osan aloitusluennolla käytiin läpi esimerkki, jossa etsitään suomen ja englannin kielen yhteisiä sanoja. Käytössä ovat seuraavat aineistot:</p>

<ul>
  <li><a href="../assets/suomi.txt">suomen kielen sanalista</a> (91591 sanaa)</li>
  <li><a href="../assets/englanti.txt">englannin kielen sanalista</a> (109582 sanaa)</li>
</ul>

<p>Seuraava ohjelma lukee sanalistat listoihin ja etsii sitten yhteiset sanat. Silmukka käy läpi kaikki suomen kielen sanat ja tulostaa jokaisen sanan, joka on myös englannin kielen sana.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="syntax"><code><span class="kn">import</span> <span class="nn">java.util.</span><span class="o">*</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.io.</span><span class="o">*</span><span class="p">;</span>

<span class="n">public</span> <span class="k">class</span> <span class="nc">Sanat</span> <span class="p">{</span>
    <span class="n">public</span> <span class="n">static</span> <span class="n">void</span> <span class="n">main</span><span class="p">(</span><span class="n">String</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="n">throws</span> <span class="nb">Exception</span> <span class="p">{</span>
        <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">finnishWords</span> <span class="o">=</span> <span class="n">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
        <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">englishWords</span> <span class="o">=</span> <span class="n">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>

        <span class="n">Scanner</span> <span class="n">scanner</span><span class="p">;</span>
        <span class="n">scanner</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Scanner</span><span class="p">(</span><span class="n">new</span> <span class="n">File</span><span class="p">(</span><span class="s">"suomi.txt"</span><span class="p">));</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">scanner</span><span class="p">.</span><span class="n">hasNext</span><span class="p">())</span> <span class="p">{</span>
            <span class="n">finnishWords</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">scanner</span><span class="p">.</span><span class="nb">next</span><span class="p">());</span>
        <span class="p">}</span>
        <span class="n">scanner</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Scanner</span><span class="p">(</span><span class="n">new</span> <span class="n">File</span><span class="p">(</span><span class="s">"englanti.txt"</span><span class="p">));</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">scanner</span><span class="p">.</span><span class="n">hasNext</span><span class="p">())</span> <span class="p">{</span>
            <span class="n">englishWords</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">scanner</span><span class="p">.</span><span class="nb">next</span><span class="p">());</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="p">(</span><span class="n">String</span> <span class="n">word</span> <span class="p">:</span> <span class="n">finnishWords</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">englishWords</span><span class="p">.</span><span class="n">contains</span><span class="p">(</span><span class="n">word</span><span class="p">))</span> <span class="p">{</span>
                <span class="n">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">word</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Ohjelman suoritus näyttää seuraavalta:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="syntax"><code>$ java Sanat
abo
adagio
adonis
aerobic
afrikaans
afro
agar
agenda
ah
ai
...
</code></pre></div></div>

<p>Suoritetaan ohjelma vielä <code class="language-html highlighter-rouge">time</code>-komennon kautta, jotta saamme tietää sen suoritusajan:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="syntax"><code>$ time java Sanat
abo
adagio
adonis
...
zombie
zucchini
zulu

real	2m39.073s
user	2m39.608s
sys	0m0.125s
</code></pre></div></div>

<p>Sanojen etsiminen vei siis aikaa 2 minuuttia ja 39 sekuntia.</p>

<p>Ohjelman pullonkaula on seuraava rivi, joka tarkastaa, onko sana englannin kielen sana:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="syntax"><code>            <span class="k">if</span> <span class="o">(</span><span class="n">englishWords</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">word</span><span class="o">))</span> <span class="o">{</span>
</code></pre></div></div>

<p>Tämä tarkastus on hidas, koska englannin kielen sanat ovat listassa, josta on hidasta etsiä alkioita. Tehokkaampi tapa on muuttaa koodia niin, että käytössä onkin hajautustaulu:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="syntax"><code>        <span class="nc">HashSet</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">englishWords</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;&gt;();</span>
</code></pre></div></div>

<p>Tämän muutoksen seurauksena ohjelma toimii hyvin nopeasti:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="syntax"><code>$ time java Sanat
abo
adagio
adonis
...
zombie
zucchini
zulu

real	0m0.333s
user	0m0.834s
sys	0m0.052s
</code></pre></div></div>

<p>Tämä on kurssin tavoite: haluamme oppia käyttämään tietorakenteita ja algoritmeja niin, että saamme aikaan tehokkaita ohjelmia.</p>

</div>
        <div class="footer">
    <img src=/syksy-2022/assets/img/HY_logo.png>
    </div>
    </div>
</body>

</html>